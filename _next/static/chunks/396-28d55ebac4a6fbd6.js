(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[396],{9361:function(b,a){"use strict";a.Z=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}},6010:function(d,a,b){"use strict";function e(a){var b,d,c="";if("string"==typeof a||"number"==typeof a)c+=a;else if("object"==typeof a){if(Array.isArray(a))for(b=0;b<a.length;b++)a[b]&&(d=e(a[b]))&&(c&&(c+=" "),c+=d);else for(b in a)a[b]&&(c&&(c+=" "),c+=b)}return c}function c(){for(var b,c,d=0,a="";d<arguments.length;)(b=arguments[d++])&&(c=e(b))&&(a&&(a+=" "),a+=c);return a}b.r(a),b.d(a,{clsx:function(){return c}}),a.default=c},8045:function(e,a,b){"use strict";var c,f=b(9361).Z,g=b(4941).Z,h=b(3929).Z;Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(a){var F,G,c=a.src,H=a.sizes,Q=a.unoptimized,E=void 0!==Q&&Q,R=a.priority,S=void 0!==R&&R,I=a.loading,T=a.lazyRoot,ae=void 0===T?null:T,af=a.lazyBoundary,ag=a.className,ah=a.quality,J=a.width,K=a.height,ai=a.style,U=a.objectFit,V=a.objectPosition,W=a.onLoadingComplete,X=a.placeholder,Y=void 0===X?"empty":X,L=a.blurDataURL,aj=q(a,["src","sizes","unoptimized","priority","loading","lazyRoot","lazyBoundary","className","quality","width","height","style","objectFit","objectPosition","onLoadingComplete","placeholder","blurDataURL"]),ak=i.useContext(m.ImageConfigContext),Z=i.useMemo(function(){var a=s||ak||k.imageConfigDefault,b=h(a.deviceSizes).concat(h(a.imageSizes)).sort(function(a,b){return a-b}),c=a.deviceSizes.sort(function(a,b){return a-b});return o({},a,{allSizes:b,deviceSizes:c})},[ak]),d=aj,e=H?"responsive":"intrinsic";"layout"in d&&(d.layout&&(e=d.layout),delete d.layout);var M=A;if("loader"in d){if(d.loader){var ay,az=d.loader;M=function(a){a.config;var b=q(a,["config"]);return az(b)}}delete d.loader}var $="";if(x(c)){var n=w(c)?c.default:c;if(!n.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify(n)));if(L=L||n.blurDataURL,$=n.src,(!e||"fill"!==e)&&(K=K||n.height,J=J||n.width,!n.height||!n.width))throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify(n)))}c="string"==typeof c?c:$;var v=z(J),B=z(K),_=z(ah),D=!S&&("lazy"===I|| void 0===I);(c.startsWith("data:")||c.startsWith("blob:"))&&(E=!0,D=!1),t.has(c)&&(D=!1),r&&(E=!0);var aa=g(i.useState(!1),2),al=aa[0],am=aa[1],N=g(l.useIntersection({rootRef:ae,rootMargin:af||"200px",disabled:!D}),3),an=N[0],ao=N[1],ap=N[2],ab=!D||ao,b={boxSizing:"border-box",display:"block",overflow:"hidden",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},O={boxSizing:"border-box",display:"block",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},P=!1,aq=Object.assign({},ai,{position:"absolute",top:0,left:0,bottom:0,right:0,boxSizing:"border-box",padding:0,border:"none",margin:"auto",display:"block",width:0,height:0,minWidth:"100%",maxWidth:"100%",minHeight:"100%",maxHeight:"100%",objectFit:U,objectPosition:V}),ar="blur"!==Y||al?{}:{backgroundSize:U||"cover",backgroundPosition:V||"0% 0%",filter:"blur(20px)",backgroundImage:'url("'.concat(L,'")')};if("fill"===e)b.display="block",b.position="absolute",b.top=0,b.left=0,b.bottom=0,b.right=0;else if(void 0!==v&& void 0!==B){var ac=B/v,as=isNaN(ac)?"100%":"".concat(100*ac,"%");"responsive"===e?(b.display="block",b.position="relative",P=!0,O.paddingTop=as):"intrinsic"===e?(b.display="inline-block",b.position="relative",b.maxWidth="100%",P=!0,O.maxWidth="100%",F="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27".concat(v,"%27%20height=%27").concat(B,"%27/%3e")):"fixed"===e&&(b.display="inline-block",b.position="relative",b.width=v,b.height=B)}var p={src:u,srcSet:void 0,sizes:void 0};ab&&(p=y({config:Z,src:c,unoptimized:E,layout:e,width:v,quality:_,sizes:H,loader:M}));var at=c,aA="imagesrcset",ad="imagesizes";ad="imageSizes";var au=(f(G={},"imageSrcSet",p.srcSet),f(G,ad,p.sizes),G),av=i.default.useLayoutEffect,aw=i.useRef(W),aB=i.useRef(c);i.useEffect(function(){aw.current=W},[W]),av(function(){aB.current!==c&&(ap(),aB.current=c)},[ap,c]);var ax=o({isLazy:D,imgAttributes:p,heightInt:B,widthInt:v,qualityInt:_,layout:e,className:ag,imgStyle:aq,blurStyle:ar,loading:I,config:Z,unoptimized:E,placeholder:Y,loader:M,srcString:at,onLoadingCompleteRef:aw,setBlurComplete:am,setIntersection:an,isVisible:ab,noscriptSizes:H},d);return i.default.createElement(i.default.Fragment,null,i.default.createElement("span",{style:b},P?i.default.createElement("span",{style:O},F?i.default.createElement("img",{style:{display:"block",maxWidth:"100%",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},alt:"","aria-hidden":!0,src:F}):null):null,i.default.createElement(C,Object.assign({},ax))),S?i.default.createElement(j.default,null,i.default.createElement("link",Object.assign({key:"__nimg-"+p.src+p.srcSet+p.sizes,rel:"preload",as:"image",href:p.srcSet?void 0:p.src},au))):null)};var i=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var b=p();if(b&&b.has(a))return b.get(a);var c={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){var e=f?Object.getOwnPropertyDescriptor(a,d):null;e&&(e.get||e.set)?Object.defineProperty(c,d,e):c[d]=a[d]}return c.default=a,b&&b.set(a,c),c}(b(7294)),j=(c=b(5443),c&&c.__esModule?c:{default:c}),k=b(9309),l=b(7190),m=b(9977);b(3794);var n=b(2392);function o(){return(o=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}function p(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;return p=function(){return a},a}function q(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}var d={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",experimentalUnoptimized:!0},r=(d.experimentalRemotePatterns,d.experimentalUnoptimized),s={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",experimentalUnoptimized:!0},t=new Set,u="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",v=new Map([["default",function(a){var c=a.config,b=a.src,d=a.width,e=a.quality;return b.endsWith(".svg")&&!c.dangerouslyAllowSVG?b:"".concat(n.normalizePathTrailingSlash(c.path),"?url=").concat(encodeURIComponent(b),"&w=").concat(d,"&q=").concat(e||75)}],["imgix",function(b){var e=b.config,f=b.src,g=b.width,c=b.quality,d=new URL("".concat(e.path).concat(D(f))),a=d.searchParams;return a.set("auto",a.get("auto")||"format"),a.set("fit",a.get("fit")||"max"),a.set("w",a.get("w")||g.toString()),c&&a.set("q",c.toString()),d.href}],["cloudinary",function(a){var b=a.config,c=a.src,d=a.width,e=a.quality,f=["f_auto","c_limit","w_"+d,"q_"+(e||"auto")].join(",")+"/";return"".concat(b.path).concat(f).concat(D(c))}],["akamai",function(a){var b=a.config,c=a.src,d=a.width;return"".concat(b.path).concat(D(c),"?imwidth=").concat(d)}],["custom",function(a){var b=a.src;throw Error('Image with src "'.concat(b,'" is missing "loader" prop.')+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader")}],]);function w(a){return void 0!==a.default}function x(a){var b;return"object"==typeof a&&(w(a)|| void 0!==(b=a).src)}function y(a){var d=a.config,e=a.src,g=a.unoptimized,i=a.layout,j=a.width,k=a.quality,b=a.sizes,l=a.loader;if(g)return{src:e,srcSet:void 0,sizes:void 0};var f=function(d,b,a,e){var i=d.deviceSizes,f=d.allSizes;if(e&&("fill"===a||"responsive"===a)){for(var j=/(^|\s)(1?\d?\d)vw/g,c=[];k=j.exec(e);k)c.push(parseInt(k[2]));if(c.length){var k,g,l=.01*(g=Math).min.apply(g,h(c));return{widths:f.filter(function(a){return a>=i[0]*l}),kind:"w"}}return{widths:f,kind:"w"}}return"number"!=typeof b||"fill"===a||"responsive"===a?{widths:i,kind:"w"}:{widths:h(new Set([b,2*b].map(function(a){return f.find(function(b){return b>=a})||f[f.length-1]}))),kind:"x"}}(d,j,i,b),c=f.widths,m=f.kind,n=c.length-1;return{sizes:b||"w"!==m?b:"100vw",srcSet:c.map(function(a,b){return"".concat(l({config:d,src:e,quality:k,width:a})," ").concat("w"===m?a:b+1).concat(m)}).join(", "),src:l({config:d,src:e,quality:k,width:c[n]})}}function z(a){return"number"==typeof a?a:"string"==typeof a?parseInt(a,10):void 0}function A(a){var b,c=(null==(b=a.config)?void 0:b.loader)||"default",d=v.get(c);if(d)return d(a);throw Error('Unknown "loader" found in "next.config.js". Expected: '.concat(k.VALID_LOADERS.join(", "),". Received: ").concat(c))}function B(a,b,c,d,e,f){a&&a.src!==u&&a["data-loaded-src"]!==b&&(a["data-loaded-src"]=b,("decode"in a?a.decode():Promise.resolve()).catch(function(){}).then(function(){if(a.parentNode&&(t.add(b),"blur"===d&&f(!0),null==e?void 0:e.current)){var c=a.naturalWidth,g=a.naturalHeight;e.current({naturalWidth:c,naturalHeight:g})}}))}var C=function(a){var k=a.imgAttributes,l=(a.heightInt,a.widthInt),m=a.qualityInt,b=a.layout,d=a.className,e=a.imgStyle,n=a.blurStyle,f=a.isLazy,g=a.placeholder,c=a.loading,h=a.srcString,p=a.config,r=a.unoptimized,s=a.loader,t=a.onLoadingCompleteRef,u=a.setBlurComplete,v=a.setIntersection,x=a.onLoad,z=a.onError,w=(a.isVisible,a.noscriptSizes),j=q(a,["imgAttributes","heightInt","widthInt","qualityInt","layout","className","imgStyle","blurStyle","isLazy","placeholder","loading","srcString","config","unoptimized","loader","onLoadingCompleteRef","setBlurComplete","setIntersection","onLoad","onError","isVisible","noscriptSizes"]);return c=f?"lazy":c,i.default.createElement(i.default.Fragment,null,i.default.createElement("img",Object.assign({},j,k,{decoding:"async","data-nimg":b,className:d,style:o({},e,n),ref:i.useCallback(function(a){v(a),(null==a?void 0:a.complete)&&B(a,h,b,g,t,u)},[v,h,b,g,t,u,]),onLoad:function(a){B(a.currentTarget,h,b,g,t,u),x&&x(a)},onError:function(a){"blur"===g&&u(!0),z&&z(a)}})),(f||"blur"===g)&&i.default.createElement("noscript",null,i.default.createElement("img",Object.assign({},j,y({config:p,src:h,unoptimized:r,layout:b,width:l,quality:m,sizes:w,loader:s}),{decoding:"async","data-nimg":b,style:e,className:d,loading:c}))))};function D(a){return"/"===a[0]?a.slice(1):a}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&& void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},7190:function(c,a,b){"use strict";var d=b(4941).Z;Object.defineProperty(a,"__esModule",{value:!0}),a.useIntersection=function(a){var j=a.rootRef,k=a.rootMargin,l=a.disabled||!g,p=e.useRef(),b=d(e.useState(!1),2),c=b[0],q=b[1],i=d(e.useState(null),2),m=i[0],n=i[1];e.useEffect(function(){if(g){if(p.current&&(p.current(),p.current=void 0),!l&&!c)return m&&m.tagName&&(p.current=h(m,function(a){return a&&q(a)},{root:null==j?void 0:j.current,rootMargin:k})),function(){null==p.current||p.current(),p.current=void 0}}else if(!c){var a=f.requestIdleCallback(function(){return q(!0)});return function(){return f.cancelIdleCallback(a)}}},[m,l,k,j,c]);var o=e.useCallback(function(){q(!1)},[]);return[n,c,o]};var e=b(7294),f=b(9311),g="function"==typeof IntersectionObserver;function h(b,c,d){var a=k(d),g=a.id,e=a.observer,f=a.elements;return f.set(b,c),e.observe(b),function(){if(f.delete(b),e.unobserve(b),0===f.size){e.disconnect(),i.delete(g);var a=j.findIndex(function(a){return a.root===g.root&&a.margin===g.margin});a> -1&&j.splice(a,1)}}}var i=new Map,j=[];function k(b){var a,c={root:b.root||null,margin:b.rootMargin||""},d=j.find(function(a){return a.root===c.root&&a.margin===c.margin});if(d&&(a=i.get(d)))return a;var e=new Map,f=new IntersectionObserver(function(a){a.forEach(function(a){var b=e.get(a.target),c=a.isIntersecting||a.intersectionRatio>0;b&&c&&b(c)})},b);return a={id:c,observer:f,elements:e},j.push(c),i.set(c,a),a}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&& void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),c.exports=a.default)},5675:function(a,c,b){a.exports=b(8045)},2703:function(a,e,b){"use strict";var f=b(414);function c(){}function d(){}d.resetWarningCache=c,a.exports=function(){function a(c,d,e,g,h,b){if(b!==f){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function b(){return a}a.isRequired=a;var e={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:d,resetWarningCache:c};return e.PropTypes=e,e}},5697:function(a,c,b){a.exports=b(2703)()},414:function(a){"use strict";a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5668:function(j,c,b){"use strict";function k(a){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"DraggableCore",{enumerable:!0,get:function(){return h.default}}),c.default=void 0;var i=function(a,f){if(!f&&a&&a.__esModule)return a;if(null===a||"object"!==k(a)&&"function"!=typeof a)return{default:a};var c=s(f);if(c&&c.has(a))return c.get(a);var d={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in a)if("default"!==b&&Object.prototype.hasOwnProperty.call(a,b)){var e=g?Object.getOwnPropertyDescriptor(a,b):null;e&&(e.get||e.set)?Object.defineProperty(d,b,e):d[b]=a[b]}return d.default=a,c&&c.set(a,d),d}(b(7294)),a=r(b(5697)),l=r(b(3935)),m=r(b(6010)),n=b(1825),o=b(2849),f=b(9280),h=r(b(783)),p=r(b(5904)),q=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function r(a){return a&&a.__esModule?a:{default:a}}function s(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(s=function(a){return a?c:b})(a)}function t(){return(t=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}function u(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}function d(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?u(Object(b),!0).forEach(function(a){g(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):u(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}function v(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function w(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function x(a,b){return(x=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function y(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function z(a){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var e=function(f){!function(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),a&&x(b,a)}(e,f);var j,r,a,b,c,s=(j=e,r=function a(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(b){return!1}}(),function(){var a,b=z(j);if(r){var c=z(this).constructor;a=Reflect.construct(b,arguments,c)}else a=b.apply(this,arguments);return function c(b,a){if(a&&("object"===k(a)||"function"==typeof a))return a;if(void 0!==a)throw TypeError("Derived constructors may only return object or undefined");return y(b)}(this,a)});function e(a){var b;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),g(y(b=s.call(this,a)),"onDragStart",function(c,a){if((0,p.default)("Draggable: onDragStart: %j",a),!1===b.props.onStart(c,(0,o.createDraggableData)(y(b),a)))return!1;b.setState({dragging:!0,dragged:!0})}),g(y(b),"onDrag",function(h,f){if(!b.state.dragging)return!1;(0,p.default)("Draggable: onDrag: %j",f);var c=(0,o.createDraggableData)(y(b),f),a={x:c.x,y:c.y};if(b.props.bounds){var d,e,i=a.x,j=a.y;a.x+=b.state.slackX,a.y+=b.state.slackY;var k=(0,o.getBoundPosition)(y(b),a.x,a.y),g=(e=2,function b(a){if(Array.isArray(a))return a}(d=k)||function j(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(d,e)||function d(a,c){if(a){if("string"==typeof a)return v(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return v(a,c)}}(d,e)||function a(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=g[0],m=g[1];a.x=l,a.y=m,a.slackX=b.state.slackX+(i-a.x),a.slackY=b.state.slackY+(j-a.y),c.x=a.x,c.y=a.y,c.deltaX=a.x-b.state.x,c.deltaY=a.y-b.state.y}if(!1===b.props.onDrag(h,c))return!1;b.setState(a)}),g(y(b),"onDragStop",function(e,c){if(!b.state.dragging|| !1===b.props.onStop(e,(0,o.createDraggableData)(y(b),c)))return!1;(0,p.default)("Draggable: onDragStop: %j",c);var a={dragging:!1,slackX:0,slackY:0};if(Boolean(b.props.position)){var d=b.props.position,f=d.x,g=d.y;a.x=f,a.y=g}b.setState(a)}),b.state={dragging:!1,dragged:!1,x:a.position?a.position.x:a.defaultPosition.x,y:a.position?a.position.y:a.defaultPosition.y,prevPropsPosition:d({},a.position),slackX:0,slackY:0,isElementSVG:!1},a.position&&!(a.onDrag||a.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),b}return a=e,b=[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode() instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var a,b,c;return null!==(a=null===(b=this.props)|| void 0===b?void 0:null===(c=b.nodeRef)|| void 0===c?void 0:c.current)&& void 0!==a?a:l.default.findDOMNode(this)}},{key:"render",value:function(){var b,a=this.props,c=(a.axis,a.bounds,a.children),s=a.defaultPosition,u=a.defaultClassName,v=a.defaultClassNameDragging,w=a.defaultClassNameDragged,e=a.position,f=a.positionOffset,x=(a.scale,function(a,d){if(null==a)return{};var b,c,e=function g(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,q)),j={},k=null,y=Boolean(e),l=!y||this.state.dragging,p=e||s,r={x:(0,o.canDragX)(this)&&l?this.state.x:p.x,y:(0,o.canDragY)(this)&&l?this.state.y:p.y};this.state.isElementSVG?k=(0,n.createSVGTransform)(r,f):j=(0,n.createCSSTransform)(r,f);var z=(0,m.default)(c.props.className||"",u,(g(b={},v,this.state.dragging),g(b,w,this.state.dragged),b));return i.createElement(h.default,t({},x,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.cloneElement(i.Children.only(c),{className:z,style:d(d({},c.props.style),j),transform:k}))}}],c=[{key:"getDerivedStateFromProps",value:function(c,e){var a=c.position,b=e.prevPropsPosition;return a&&(!b||a.x!==b.x||a.y!==b.y)?((0,p.default)("Draggable: getDerivedStateFromProps %j",{position:a,prevPropsPosition:b}),{x:a.x,y:a.y,prevPropsPosition:d({},a)}):null}}],b&&w(a.prototype,b),c&&w(a,c),Object.defineProperty(a,"prototype",{writable:!1}),e}(i.Component);c.default=e,g(e,"displayName","Draggable"),g(e,"propTypes",d(d({},h.default.propTypes),{},{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:f.dontSetMe,style:f.dontSetMe,transform:f.dontSetMe})),g(e,"defaultProps",d(d({},h.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},783:function(i,d,b){"use strict";function j(a){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var g=function(a,f){if(!f&&a&&a.__esModule)return a;if(null===a||"object"!==j(a)&&"function"!=typeof a)return{default:a};var c=p(f);if(c&&c.has(a))return c.get(a);var d={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in a)if("default"!==b&&Object.prototype.hasOwnProperty.call(a,b)){var e=g?Object.getOwnPropertyDescriptor(a,b):null;e&&(e.get||e.set)?Object.defineProperty(d,b,e):d[b]=a[b]}return d.default=a,c&&c.set(a,d),d}(b(7294)),a=o(b(5697)),k=o(b(3935)),l=b(1825),m=b(2849),e=b(9280),n=o(b(5904));function o(a){return a&&a.__esModule?a:{default:a}}function p(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(p=function(a){return a?c:b})(a)}function q(a,b){return v(a)||u(a,b)||s(a,b)||r()}function r(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(a,c){if(a){if("string"==typeof a)return t(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return t(a,c)}}function t(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function u(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}function v(a){if(Array.isArray(a))return a}function w(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function x(a,b){return(x=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function y(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function z(a){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var h={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},A=h.mouse,c=function(e){!function(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),a&&x(b,a)}(d,e);var i,o,a,b,c,p=(i=d,o=function a(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(b){return!1}}(),function(){var a,b=z(i);if(o){var c=z(this).constructor;a=Reflect.construct(b,arguments,c)}else a=b.apply(this,arguments);return function c(b,a){if(a&&("object"===j(a)||"function"==typeof a))return a;if(void 0!==a)throw TypeError("Derived constructors may only return object or undefined");return y(b)}(this,a)});function d(){var a;!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,d);for(var c=arguments.length,e=Array(c),b=0;b<c;b++)e[b]=arguments[b];return a=p.call.apply(p,[this].concat(e)),f(y(a),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),f(y(a),"mounted",!1),f(y(a),"handleDragStart",function(b){if(a.props.onMouseDown(b),!a.props.allowAnyClick&&"number"==typeof b.button&&0!==b.button)return!1;var c=a.findDOMNode();if(!c||!c.ownerDocument||!c.ownerDocument.body)throw Error("<DraggableCore> not mounted on DragStart!");var d=c.ownerDocument;if(!(a.props.disabled||!(b.target instanceof d.defaultView.Node)||a.props.handle&&!(0,l.matchesSelectorAndParentsTo)(b.target,a.props.handle,c)||a.props.cancel&&(0,l.matchesSelectorAndParentsTo)(b.target,a.props.cancel,c))){"touchstart"===b.type&&b.preventDefault();var f=(0,l.getTouchIdentifier)(b);a.setState({touchIdentifier:f});var e=(0,m.getControlPosition)(b,f,y(a));if(null!=e){var g=e.x,h=e.y,i=(0,m.createCoreData)(y(a),g,h);(0,n.default)("DraggableCore: handleDragStart: %j",i),(0,n.default)("calling",a.props.onStart),!1!==a.props.onStart(b,i)&& !1!==a.mounted&&(a.props.enableUserSelectHack&&(0,l.addUserSelectStyles)(d),a.setState({dragging:!0,lastX:g,lastY:h}),(0,l.addEvent)(d,A.move,a.handleDrag),(0,l.addEvent)(d,A.stop,a.handleDragStop))}}}),f(y(a),"handleDrag",function(g){var f=(0,m.getControlPosition)(g,a.state.touchIdentifier,y(a));if(null!=f){var b=f.x,c=f.y;if(Array.isArray(a.props.grid)){var d=b-a.state.lastX,e=c-a.state.lastY,k=(0,m.snapToGrid)(a.props.grid,d,e),h=q(k,2);if(d=h[0],e=h[1],!d&&!e)return;b=a.state.lastX+d,c=a.state.lastY+e}var i=(0,m.createCoreData)(y(a),b,c);if((0,n.default)("DraggableCore: handleDrag: %j",i),!1===a.props.onDrag(g,i)|| !1===a.mounted){try{a.handleDragStop(new MouseEvent("mouseup"))}catch(l){var j=document.createEvent("MouseEvents");j.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.handleDragStop(j)}return}a.setState({lastX:b,lastY:c})}}),f(y(a),"handleDragStop",function(h){if(a.state.dragging){var c=(0,m.getControlPosition)(h,a.state.touchIdentifier,y(a));if(null!=c){var d=c.x,e=c.y;if(Array.isArray(a.props.grid)){var f=d-a.state.lastX||0,g=e-a.state.lastY||0,k=(0,m.snapToGrid)(a.props.grid,f,g),i=q(k,2);f=i[0],g=i[1],d=a.state.lastX+f,e=a.state.lastY+g}var j=(0,m.createCoreData)(y(a),d,e);if(!1===a.props.onStop(h,j)|| !1===a.mounted)return!1;var b=a.findDOMNode();b&&a.props.enableUserSelectHack&&(0,l.removeUserSelectStyles)(b.ownerDocument),(0,n.default)("DraggableCore: handleDragStop: %j",j),a.setState({dragging:!1,lastX:NaN,lastY:NaN}),b&&((0,n.default)("DraggableCore: Removing handlers"),(0,l.removeEvent)(b.ownerDocument,A.move,a.handleDrag),(0,l.removeEvent)(b.ownerDocument,A.stop,a.handleDragStop))}}}),f(y(a),"onMouseDown",function(b){return A=h.mouse,a.handleDragStart(b)}),f(y(a),"onMouseUp",function(b){return A=h.mouse,a.handleDragStop(b)}),f(y(a),"onTouchStart",function(b){return A=h.touch,a.handleDragStart(b)}),f(y(a),"onTouchEnd",function(b){return A=h.touch,a.handleDragStop(b)}),a}return a=d,b=[{key:"componentDidMount",value:function(){this.mounted=!0;var a=this.findDOMNode();a&&(0,l.addEvent)(a,h.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var b=this.findDOMNode();if(b){var a=b.ownerDocument;(0,l.removeEvent)(a,h.mouse.move,this.handleDrag),(0,l.removeEvent)(a,h.touch.move,this.handleDrag),(0,l.removeEvent)(a,h.mouse.stop,this.handleDragStop),(0,l.removeEvent)(a,h.touch.stop,this.handleDragStop),(0,l.removeEvent)(b,h.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,l.removeUserSelectStyles)(a)}}},{key:"findDOMNode",value:function(){var a,b,c;return null!==(a=this.props)&& void 0!==a&&a.nodeRef?null===(b=this.props)|| void 0===b?void 0:null===(c=b.nodeRef)|| void 0===c?void 0:c.current:k.default.findDOMNode(this)}},{key:"render",value:function(){return g.cloneElement(g.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}],w(a.prototype,b),c&&w(a,c),Object.defineProperty(a,"prototype",{writable:!1}),d}(g.Component);d.default=c,f(c,"displayName","DraggableCore"),f(c,"propTypes",{allowAnyClick:a.default.bool,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(a,b){if(a[b]&&1!==a[b].nodeType)throw Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:e.dontSetMe,style:e.dontSetMe,transform:e.dontSetMe}),f(c,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},1193:function(a,f,d){"use strict";var b=d(5668),c=b.default,e=b.DraggableCore;a.exports=c,a.exports.default=c,a.exports.DraggableCore=e},1825:function(c,a,b){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(a,"__esModule",{value:!0}),a.addClassName=n,a.addEvent=function(a,b,c,d){if(a){var e=i({capture:!0},d);a.addEventListener?a.addEventListener(b,c,e):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c}},a.addUserSelectStyles=function(a){if(a){var b=a.getElementById("react-draggable-style-el");b||((b=a.createElement("style")).type="text/css",b.id="react-draggable-style-el",b.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",b.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",a.getElementsByTagName("head")[0].appendChild(b)),a.body&&n(a.body,"react-draggable-transparent-selection")}},a.createCSSTransform=function(a,b){var c=m(a,b,"px");return j({},(0,f.browserPrefixToKey)("transform",f.default),c)},a.createSVGTransform=function(a,b){return m(a,b,"")},a.getTouch=function(a,b){return a.targetTouches&&(0,e.findInArray)(a.targetTouches,function(a){return b===a.identifier})||a.changedTouches&&(0,e.findInArray)(a.changedTouches,function(a){return b===a.identifier})},a.getTouchIdentifier=function(a){return a.targetTouches&&a.targetTouches[0]?a.targetTouches[0].identifier:a.changedTouches&&a.changedTouches[0]?a.changedTouches[0].identifier:void 0},a.getTranslation=m,a.innerHeight=function(a){var b=a.clientHeight,c=a.ownerDocument.defaultView.getComputedStyle(a);return b-=(0,e.int)(c.paddingTop),b-=(0,e.int)(c.paddingBottom)},a.innerWidth=function(a){var b=a.clientWidth,c=a.ownerDocument.defaultView.getComputedStyle(a);return b-=(0,e.int)(c.paddingLeft),b-=(0,e.int)(c.paddingRight)},a.matchesSelector=l,a.matchesSelectorAndParentsTo=function(b,c,d){var a=b;do{if(l(a,c))return!0;if(a===d)break;a=a.parentNode}while(a)return!1},a.offsetXYFromParent=function(b,a,c){var d=a===a.ownerDocument.body?{left:0,top:0}:a.getBoundingClientRect(),e=(b.clientX+a.scrollLeft-d.left)/c,f=(b.clientY+a.scrollTop-d.top)/c;return{x:e,y:f}},a.outerHeight=function(a){var b=a.clientHeight,c=a.ownerDocument.defaultView.getComputedStyle(a);return b+=(0,e.int)(c.borderTopWidth),b+=(0,e.int)(c.borderBottomWidth)},a.outerWidth=function(a){var b=a.clientWidth,c=a.ownerDocument.defaultView.getComputedStyle(a);return b+=(0,e.int)(c.borderLeftWidth),b+=(0,e.int)(c.borderRightWidth)},a.removeClassName=o,a.removeEvent=function(a,b,c,d){if(a){var e=i({capture:!0},d);a.removeEventListener?a.removeEventListener(b,c,e):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null}},a.removeUserSelectStyles=function(a){if(a)try{if(a.body&&o(a.body,"react-draggable-transparent-selection"),a.selection)a.selection.empty();else{var b=(a.defaultView||window).getSelection();b&&"Caret"!==b.type&&b.removeAllRanges()}}catch(c){}};var e=b(9280),f=function(a,h){if(!h&&a&&a.__esModule)return a;if(null===a||"object"!==d(a)&&"function"!=typeof a)return{default:a};var c=g(h);if(c&&c.has(a))return c.get(a);var e={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in a)if("default"!==b&&Object.prototype.hasOwnProperty.call(a,b)){var f=i?Object.getOwnPropertyDescriptor(a,b):null;f&&(f.get||f.set)?Object.defineProperty(e,b,f):e[b]=a[b]}return e.default=a,c&&c.set(a,e),e}(b(8650));function g(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(g=function(a){return a?c:b})(a)}function h(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}function i(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?h(Object(b),!0).forEach(function(a){j(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):h(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}function j(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var k="";function l(a,b){return k||(k=(0,e.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(b){return(0,e.isFunction)(a[b])})),!!(0,e.isFunction)(a[k])&&a[k](b)}function m(d,a,b){var e=d.x,f=d.y,c="translate(".concat(e).concat(b,",").concat(f).concat(b,")");if(a){var g="".concat("string"==typeof a.x?a.x:a.x+b),h="".concat("string"==typeof a.y?a.y:a.y+b);c="translate(".concat(g,", ").concat(h,")")+c}return c}function n(a,b){a.classList?a.classList.add(b):a.className.match(RegExp("(?:^|\\s)".concat(b,"(?!\\S)")))||(a.className+=" ".concat(b))}function o(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(RegExp("(?:^|\\s)".concat(b,"(?!\\S)"),"g"),"")}},8650:function(d,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.browserPrefixToKey=f,a.browserPrefixToStyle=function(a,b){return b?"-".concat(b.toLowerCase(),"-").concat(a):a},a.default=void 0,a.getPrefix=b;var e=["Moz","Webkit","O","ms"];function b(){var b,c,g=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";var d=null===(b=window.document)|| void 0===b?void 0:null===(c=b.documentElement)|| void 0===c?void 0:c.style;if(!d||g in d)return"";for(var a=0;a<e.length;a++)if(f(g,e[a]) in d)return e[a];return""}function f(a,b){return b?"".concat(b).concat(g(a)):a}function g(b){for(var c="",d=!0,a=0;a<b.length;a++)d?(c+=b[a].toUpperCase(),d=!1):"-"===b[a]?d=!0:c+=b[a];return c}var c=b();a.default=c},5904:function(b,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){}},2849:function(c,a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.canDragX=function(a){return"both"===a.props.axis||"x"===a.props.axis},a.canDragY=function(a){return"both"===a.props.axis||"y"===a.props.axis},a.createCoreData=function(e,b,c){var a=e.state,h=!(0,d.isNum)(a.lastX),f=g(e);return h?{node:f,deltaX:0,deltaY:0,lastX:b,lastY:c,x:b,y:c}:{node:f,deltaX:b-a.lastX,deltaY:c-a.lastY,lastX:a.lastX,lastY:a.lastY,x:b,y:c}},a.createDraggableData=function(a,b){var c=a.props.scale;return{node:b.node,x:a.state.x+b.deltaX/c,y:a.state.y+b.deltaY/c,deltaX:b.deltaX/c,deltaY:b.deltaY/c,lastX:a.state.x,lastY:a.state.y}},a.getBoundPosition=function(k,c,h){if(!k.props.bounds)return[c,h];var a=k.props.bounds;a="string"==typeof a?a:f(a);var b=g(k);if("string"==typeof a){var n,o=b.ownerDocument,l=o.defaultView;if(!((n="parent"===a?b.parentNode:o.querySelector(a))instanceof l.HTMLElement))throw Error('Bounds selector "'+a+'" could not find an element.');var m=n,i=l.getComputedStyle(b),j=l.getComputedStyle(m);a={left:-b.offsetLeft+(0,d.int)(j.paddingLeft)+(0,d.int)(i.marginLeft),top:-b.offsetTop+(0,d.int)(j.paddingTop)+(0,d.int)(i.marginTop),right:(0,e.innerWidth)(m)-(0,e.outerWidth)(b)-b.offsetLeft+(0,d.int)(j.paddingRight)-(0,d.int)(i.marginRight),bottom:(0,e.innerHeight)(m)-(0,e.outerHeight)(b)-b.offsetTop+(0,d.int)(j.paddingBottom)-(0,d.int)(i.marginBottom)}}return(0,d.isNum)(a.right)&&(c=Math.min(c,a.right)),(0,d.isNum)(a.bottom)&&(h=Math.min(h,a.bottom)),(0,d.isNum)(a.left)&&(c=Math.max(c,a.left)),(0,d.isNum)(a.top)&&(h=Math.max(h,a.top)),[c,h]},a.getControlPosition=function(c,a,b){var d="number"==typeof a?(0,e.getTouch)(c,a):null;if("number"==typeof a&&!d)return null;var f=g(b),h=b.props.offsetParent||f.offsetParent||f.ownerDocument.body;return(0,e.offsetXYFromParent)(d||c,h,b.props.scale)},a.snapToGrid=function(a,b,c){var d=Math.round(b/a[0])*a[0],e=Math.round(c/a[1])*a[1];return[d,e]};var d=b(9280),e=b(1825);function f(a){return{left:a.left,top:a.top,right:a.right,bottom:a.bottom}}function g(b){var a=b.findDOMNode();if(!a)throw Error("<DraggableCore>: Unmounted during event!");return a}},9280:function(b,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.dontSetMe=function(b,a,c){if(b[a])return Error("Invalid prop ".concat(a," passed to ").concat(c," - do not set this, set it on the child."))},a.findInArray=function(b,c){for(var a=0,d=b.length;a<d;a++)if(c.apply(c,[b[a],a,b]))return b[a]},a.int=function(a){return parseInt(a,10)},a.isFunction=function(a){return"function"==typeof a||"[object Function]"===Object.prototype.toString.call(a)},a.isNum=function(a){return"number"==typeof a&&!isNaN(a)}},3068:function(d,c,b){"use strict";b.d(c,{A:function(){return q}});var a=b(9477);let e={IDLE:Symbol(),ROTATE:Symbol(),PAN:Symbol(),SCALE:Symbol(),FOV:Symbol(),FOCUS:Symbol(),ZROTATE:Symbol(),TOUCH_MULTI:Symbol(),ANIMATION_FOCUS:Symbol(),ANIMATION_ROTATE:Symbol()},f={NONE:Symbol(),ONE_FINGER:Symbol(),ONE_FINGER_SWITCHED:Symbol(),TWO_FINGER:Symbol(),MULT_FINGER:Symbol(),CURSOR:Symbol()},g={x:0,y:0},h={camera:new a.yGw,gizmos:new a.yGw},i={type:"change"},j={type:"start"},k={type:"end"},l=new a.iMs,m=new a.Pa4,n=new a.yGw,o=new a.yGw,p=new a.Pa4;class q extends a.pBf{constructor(b,c,d=null){super(),this.camera=null,this.domElement=c,this.scene=d,this.target=new a.Pa4,this._currentTarget=new a.Pa4,this.radiusFactor=.67,this.mouseActions=[],this._mouseOp=null,this._v2_1=new a.FM8,this._v3_1=new a.Pa4,this._v3_2=new a.Pa4,this._m4_1=new a.yGw,this._m4_2=new a.yGw,this._quat=new a._fP,this._translationMatrix=new a.yGw,this._rotationMatrix=new a.yGw,this._scaleMatrix=new a.yGw,this._rotationAxis=new a.Pa4,this._cameraMatrixState=new a.yGw,this._cameraProjectionState=new a.yGw,this._fovState=1,this._upState=new a.Pa4,this._zoomState=1,this._nearPos=0,this._farPos=0,this._gizmoMatrixState=new a.yGw,this._up0=new a.Pa4,this._zoom0=1,this._fov0=0,this._initialNear=0,this._nearPos0=0,this._initialFar=0,this._farPos0=0,this._cameraMatrixState0=new a.yGw,this._gizmoMatrixState0=new a.yGw,this._button=-1,this._touchStart=[],this._touchCurrent=[],this._input=f.NONE,this._switchSensibility=32,this._startFingerDistance=0,this._currentFingerDistance=0,this._startFingerRotation=0,this._currentFingerRotation=0,this._devPxRatio=0,this._downValid=!0,this._nclicks=0,this._downEvents=[],this._downStart=0,this._clickStart=0,this._maxDownTime=250,this._maxInterval=300,this._posThreshold=24,this._movementThreshold=24,this._currentCursorPosition=new a.Pa4,this._startCursorPosition=new a.Pa4,this._grid=null,this._gridPosition=new a.Pa4,this._gizmos=new a.ZAu,this._curvePts=128,this._timeStart=-1,this._animationId=-1,this.focusAnimationTime=500,this._timePrev=0,this._timeCurrent=0,this._anglePrev=0,this._angleCurrent=0,this._cursorPosPrev=new a.Pa4,this._cursorPosCurr=new a.Pa4,this._wPrev=0,this._wCurr=0,this.adjustNearFar=!1,this.scaleFactor=1.1,this.dampingFactor=25,this.wMax=20,this.enableAnimations=!0,this.enableGrid=!1,this.cursorZoom=!1,this.minFov=5,this.maxFov=90,this.enabled=!0,this.enablePan=!0,this.enableRotate=!0,this.enableZoom=!0,this.enableGizmos=!0,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this._tbRadius=1,this._state=e.IDLE,this.setCamera(b),null!=this.scene&&this.scene.add(this._gizmos),this.domElement.style.touchAction="none",this._devPxRatio=window.devicePixelRatio,this.initializeMouseActions(),this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("wheel",this.onWheel),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointercancel",this.onPointerCancel),window.addEventListener("resize",this.onWindowResize)}onWindowResize=()=>{let c=(this._gizmos.scale.x+this._gizmos.scale.y+this._gizmos.scale.z)/3;this._tbRadius=this.calculateTbRadius(this.camera);let b=this._tbRadius/c,d=new a.Ny0(0,0,b,b),e=d.getPoints(this._curvePts),f=new a.u9r().setFromPoints(e);for(let g in this._gizmos.children)this._gizmos.children[g].geometry=f;this.dispatchEvent(i)};onContextMenu=b=>{if(this.enabled){for(let a=0;a<this.mouseActions.length;a++)if(2==this.mouseActions[a].mouse){b.preventDefault();break}}};onPointerCancel=()=>{this._touchStart.splice(0,this._touchStart.length),this._touchCurrent.splice(0,this._touchCurrent.length),this._input=f.NONE};onPointerDown=a=>{if(0==a.button&&a.isPrimary?(this._downValid=!0,this._downEvents.push(a),this._downStart=performance.now()):this._downValid=!1,"touch"==a.pointerType&&this._input!=f.CURSOR)switch(this._touchStart.push(a),this._touchCurrent.push(a),this._input){case f.NONE:this._input=f.ONE_FINGER,this.onSinglePanStart(a,"ROTATE"),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp);break;case f.ONE_FINGER:case f.ONE_FINGER_SWITCHED:this._input=f.TWO_FINGER,this.onRotateStart(),this.onPinchStart(),this.onDoublePanStart();break;case f.TWO_FINGER:this._input=f.MULT_FINGER,this.onTriplePanStart(a)}else if("touch"!=a.pointerType&&this._input==f.NONE){let b=null;a.ctrlKey||a.metaKey?b="CTRL":a.shiftKey&&(b="SHIFT"),this._mouseOp=this.getOpFromAction(a.button,b),null!=this._mouseOp&&(window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp),this._input=f.CURSOR,this._button=a.button,this.onSinglePanStart(a,this._mouseOp))}};onPointerMove=a=>{if("touch"==a.pointerType&&this._input!=f.CURSOR)switch(this._input){case f.ONE_FINGER:this.updateTouchEvent(a),this.onSinglePanMove(a,e.ROTATE);break;case f.ONE_FINGER_SWITCHED:let d=this.calculatePointersDistance(this._touchCurrent[0],a)*this._devPxRatio;d>=this._switchSensibility&&(this._input=f.ONE_FINGER,this.updateTouchEvent(a),this.onSinglePanStart(a,"ROTATE"));break;case f.TWO_FINGER:this.updateTouchEvent(a),this.onRotateMove(),this.onPinchMove(),this.onDoublePanMove();break;case f.MULT_FINGER:this.updateTouchEvent(a),this.onTriplePanMove(a)}else if("touch"!=a.pointerType&&this._input==f.CURSOR){let b=null;a.ctrlKey||a.metaKey?b="CTRL":a.shiftKey&&(b="SHIFT");let c=this.getOpStateFromAction(this._button,b);null!=c&&this.onSinglePanMove(a,c)}if(this._downValid){let g=this.calculatePointersDistance(this._downEvents[this._downEvents.length-1],a)*this._devPxRatio;g>this._movementThreshold&&(this._downValid=!1)}};onPointerUp=a=>{if("touch"==a.pointerType&&this._input!=f.CURSOR){let c=this._touchCurrent.length;for(let b=0;b<c;b++)if(this._touchCurrent[b].pointerId==a.pointerId){this._touchCurrent.splice(b,1),this._touchStart.splice(b,1);break}switch(this._input){case f.ONE_FINGER:case f.ONE_FINGER_SWITCHED:window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this._input=f.NONE,this.onSinglePanEnd();break;case f.TWO_FINGER:this.onDoublePanEnd(a),this.onPinchEnd(a),this.onRotateEnd(a),this._input=f.ONE_FINGER_SWITCHED;break;case f.MULT_FINGER:0==this._touchCurrent.length&&(window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this._input=f.NONE,this.onTriplePanEnd())}}else"touch"!=a.pointerType&&this._input==f.CURSOR&&(window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this._input=f.NONE,this.onSinglePanEnd(),this._button=-1);if(a.isPrimary){if(this._downValid){let d=a.timeStamp-this._downEvents[this._downEvents.length-1].timeStamp;if(d<=this._maxDownTime){if(0==this._nclicks)this._nclicks=1,this._clickStart=performance.now();else{let e=a.timeStamp-this._clickStart,g=this.calculatePointersDistance(this._downEvents[1],this._downEvents[0])*this._devPxRatio;e<=this._maxInterval&&g<=this._posThreshold?(this._nclicks=0,this._downEvents.splice(0,this._downEvents.length),this.onDoubleTap(a)):(this._nclicks=1,this._downEvents.shift(),this._clickStart=performance.now())}}else this._downValid=!1,this._nclicks=0,this._downEvents.splice(0,this._downEvents.length)}else this._nclicks=0,this._downEvents.splice(0,this._downEvents.length)}};onWheel=c=>{if(this.enabled&&this.enableZoom){let g=null;c.ctrlKey||c.metaKey?g="CTRL":c.shiftKey&&(g="SHIFT");let n=this.getOpFromAction("WHEEL",g);if(null!=n){c.preventDefault(),this.dispatchEvent(j);let o=125,d=c.deltaY/o,b=1;switch(d>0?b=1/this.scaleFactor:d<0&&(b=this.scaleFactor),n){case"ZOOM":if(this.updateTbState(e.SCALE,!0),d>0?b=1/Math.pow(this.scaleFactor,d):d<0&&(b=Math.pow(this.scaleFactor,-d)),this.cursorZoom&&this.enablePan){let h;this.camera.isOrthographicCamera?h=this.unprojectOnTbPlane(this.camera,c.clientX,c.clientY,this.domElement).applyQuaternion(this.camera.quaternion).multiplyScalar(1/this.camera.zoom).add(this._gizmos.position):this.camera.isPerspectiveCamera&&(h=this.unprojectOnTbPlane(this.camera,c.clientX,c.clientY,this.domElement).applyQuaternion(this.camera.quaternion).add(this._gizmos.position)),this.applyTransformMatrix(this.scale(b,h))}else this.applyTransformMatrix(this.scale(b,this._gizmos.position));null!=this._grid&&(this.disposeGrid(),this.drawGrid()),this.updateTbState(e.IDLE,!1),this.dispatchEvent(i),this.dispatchEvent(k);break;case"FOV":if(this.camera.isPerspectiveCamera){this.updateTbState(e.FOV,!0),0!=c.deltaX&&(d=c.deltaX/o,b=1,d>0?b=1/Math.pow(this.scaleFactor,d):d<0&&(b=Math.pow(this.scaleFactor,-d))),this._v3_1.setFromMatrixPosition(this._cameraMatrixState);let l=this._v3_1.distanceTo(this._gizmos.position),m=l/b;m=a.M8C.clamp(m,this.minDistance,this.maxDistance);let p=l*Math.tan(a.M8C.DEG2RAD*this.camera.fov*.5),f=a.M8C.RAD2DEG*(2*Math.atan(p/m));f>this.maxFov?f=this.maxFov:f<this.minFov&&(f=this.minFov);let q=p/Math.tan(a.M8C.DEG2RAD*(f/2));b=l/q,this.setFov(f),this.applyTransformMatrix(this.scale(b,this._gizmos.position,!1))}null!=this._grid&&(this.disposeGrid(),this.drawGrid()),this.updateTbState(e.IDLE,!1),this.dispatchEvent(i),this.dispatchEvent(k)}}}};onSinglePanStart=(a,b)=>{if(this.enabled)switch(this.dispatchEvent(j),this.setCenter(a.clientX,a.clientY),b){case"PAN":if(!this.enablePan)return;-1!=this._animationId&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1,this.activateGizmos(!1),this.dispatchEvent(i)),this.updateTbState(e.PAN,!0),this._startCursorPosition.copy(this.unprojectOnTbPlane(this.camera,g.x,g.y,this.domElement)),this.enableGrid&&(this.drawGrid(),this.dispatchEvent(i));break;case"ROTATE":if(!this.enableRotate)return;-1!=this._animationId&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1),this.updateTbState(e.ROTATE,!0),this._startCursorPosition.copy(this.unprojectOnTbSurface(this.camera,g.x,g.y,this.domElement,this._tbRadius)),this.activateGizmos(!0),this.enableAnimations&&(this._timePrev=this._timeCurrent=performance.now(),this._angleCurrent=this._anglePrev=0,this._cursorPosPrev.copy(this._startCursorPosition),this._cursorPosCurr.copy(this._cursorPosPrev),this._wCurr=0,this._wPrev=this._wCurr),this.dispatchEvent(i);break;case"FOV":if(!this.camera.isPerspectiveCamera||!this.enableZoom)return;-1!=this._animationId&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1,this.activateGizmos(!1),this.dispatchEvent(i)),this.updateTbState(e.FOV,!0),this._startCursorPosition.setY(.5*this.getCursorNDC(g.x,g.y,this.domElement).y),this._currentCursorPosition.copy(this._startCursorPosition);break;case"ZOOM":if(!this.enableZoom)return;-1!=this._animationId&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1,this.activateGizmos(!1),this.dispatchEvent(i)),this.updateTbState(e.SCALE,!0),this._startCursorPosition.setY(.5*this.getCursorNDC(g.x,g.y,this.domElement).y),this._currentCursorPosition.copy(this._startCursorPosition)}};onSinglePanMove=(q,b)=>{if(this.enabled){let d=b!=this._state;switch(this.setCenter(q.clientX,q.clientY),b){case e.PAN:this.enablePan&&(d?(this.dispatchEvent(k),this.dispatchEvent(j),this.updateTbState(b,!0),this._startCursorPosition.copy(this.unprojectOnTbPlane(this.camera,g.x,g.y,this.domElement)),this.enableGrid&&this.drawGrid(),this.activateGizmos(!1)):(this._currentCursorPosition.copy(this.unprojectOnTbPlane(this.camera,g.x,g.y,this.domElement)),this.applyTransformMatrix(this.pan(this._startCursorPosition,this._currentCursorPosition))));break;case e.ROTATE:if(this.enableRotate){if(d)this.dispatchEvent(k),this.dispatchEvent(j),this.updateTbState(b,!0),this._startCursorPosition.copy(this.unprojectOnTbSurface(this.camera,g.x,g.y,this.domElement,this._tbRadius)),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!0);else{this._currentCursorPosition.copy(this.unprojectOnTbSurface(this.camera,g.x,g.y,this.domElement,this._tbRadius));let w=this._startCursorPosition.distanceTo(this._currentCursorPosition),x=this._startCursorPosition.angleTo(this._currentCursorPosition),r=Math.max(w/this._tbRadius,x);this.applyTransformMatrix(this.rotate(this.calculateRotationAxis(this._startCursorPosition,this._currentCursorPosition),r)),this.enableAnimations&&(this._timePrev=this._timeCurrent,this._timeCurrent=performance.now(),this._anglePrev=this._angleCurrent,this._angleCurrent=r,this._cursorPosPrev.copy(this._cursorPosCurr),this._cursorPosCurr.copy(this._currentCursorPosition),this._wPrev=this._wCurr,this._wCurr=this.calculateAngularSpeed(this._anglePrev,this._angleCurrent,this._timePrev,this._timeCurrent))}}break;case e.SCALE:if(this.enableZoom){if(d)this.dispatchEvent(k),this.dispatchEvent(j),this.updateTbState(b,!0),this._startCursorPosition.setY(.5*this.getCursorNDC(g.x,g.y,this.domElement).y),this._currentCursorPosition.copy(this._startCursorPosition),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!1);else{let s=8;this._currentCursorPosition.setY(.5*this.getCursorNDC(g.x,g.y,this.domElement).y);let f=this._currentCursorPosition.y-this._startCursorPosition.y,o=1;f<0?o=1/Math.pow(this.scaleFactor,-f*s):f>0&&(o=Math.pow(this.scaleFactor,f*s)),this._v3_1.setFromMatrixPosition(this._gizmoMatrixState),this.applyTransformMatrix(this.scale(o,this._v3_1))}}break;case e.FOV:if(this.enableZoom&&this.camera.isPerspectiveCamera){if(d)this.dispatchEvent(k),this.dispatchEvent(j),this.updateTbState(b,!0),this._startCursorPosition.setY(.5*this.getCursorNDC(g.x,g.y,this.domElement).y),this._currentCursorPosition.copy(this._startCursorPosition),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!1);else{let t=8;this._currentCursorPosition.setY(.5*this.getCursorNDC(g.x,g.y,this.domElement).y);let h=this._currentCursorPosition.y-this._startCursorPosition.y,c=1;h<0?c=1/Math.pow(this.scaleFactor,-h*t):h>0&&(c=Math.pow(this.scaleFactor,h*t)),this._v3_1.setFromMatrixPosition(this._cameraMatrixState);let l=this._v3_1.distanceTo(this._gizmos.position),p=l/c;p=a.M8C.clamp(p,this.minDistance,this.maxDistance);let u=l*Math.tan(a.M8C.DEG2RAD*this._fovState*.5),n=a.M8C.RAD2DEG*(2*Math.atan(u/p));n=a.M8C.clamp(n,this.minFov,this.maxFov);let v=u/Math.tan(a.M8C.DEG2RAD*(n/2));c=l/v,this._v3_2.setFromMatrixPosition(this._gizmoMatrixState),this.setFov(n),this.applyTransformMatrix(this.scale(c,this._v3_2,!1)),m.copy(this._gizmos.position).sub(this.camera.position).normalize().multiplyScalar(v/l),this._m4_1.makeTranslation(m.x,m.y,m.z)}}}this.dispatchEvent(i)}};onSinglePanEnd=()=>{if(this._state==e.ROTATE){if(!this.enableRotate)return;if(this.enableAnimations){let a=performance.now()-this._timeCurrent;if(a<120){let b=Math.abs((this._wPrev+this._wCurr)/2),c=this;this._animationId=window.requestAnimationFrame(function(a){c.updateTbState(e.ANIMATION_ROTATE,!0);let d=c.calculateRotationAxis(c._cursorPosPrev,c._cursorPosCurr);c.onRotationAnim(a,d,Math.min(b,c.wMax))})}else this.updateTbState(e.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(i)}else this.updateTbState(e.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(i)}else(this._state==e.PAN||this._state==e.IDLE)&&(this.updateTbState(e.IDLE,!1),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!1),this.dispatchEvent(i));this.dispatchEvent(k)};onDoubleTap=b=>{if(this.enabled&&this.enablePan&&null!=this.scene){this.dispatchEvent(j),this.setCenter(b.clientX,b.clientY);let a=this.unprojectOnObj(this.getCursorNDC(g.x,g.y,this.domElement),this.camera);if(null!=a&&this.enableAnimations){let c=this;-1!=this._animationId&&window.cancelAnimationFrame(this._animationId),this._timeStart=-1,this._animationId=window.requestAnimationFrame(function(b){c.updateTbState(e.ANIMATION_FOCUS,!0),c.onFocusAnim(b,a,c._cameraMatrixState,c._gizmoMatrixState)})}else null==a||this.enableAnimations||(this.updateTbState(e.FOCUS,!0),this.focus(a,this.scaleFactor),this.updateTbState(e.IDLE,!1),this.dispatchEvent(i))}this.dispatchEvent(k)};onDoublePanStart=()=>{this.enabled&&this.enablePan&&(this.dispatchEvent(j),this.updateTbState(e.PAN,!0),this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2),this._startCursorPosition.copy(this.unprojectOnTbPlane(this.camera,g.x,g.y,this.domElement,!0)),this._currentCursorPosition.copy(this._startCursorPosition),this.activateGizmos(!1))};onDoublePanMove=()=>{this.enabled&&this.enablePan&&(this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2),this._state!=e.PAN&&(this.updateTbState(e.PAN,!0),this._startCursorPosition.copy(this._currentCursorPosition)),this._currentCursorPosition.copy(this.unprojectOnTbPlane(this.camera,g.x,g.y,this.domElement,!0)),this.applyTransformMatrix(this.pan(this._startCursorPosition,this._currentCursorPosition,!0)),this.dispatchEvent(i))};onDoublePanEnd=()=>{this.updateTbState(e.IDLE,!1),this.dispatchEvent(k)};onRotateStart=()=>{this.enabled&&this.enableRotate&&(this.dispatchEvent(j),this.updateTbState(e.ZROTATE,!0),this._startFingerRotation=this.getAngle(this._touchCurrent[1],this._touchCurrent[0])+this.getAngle(this._touchStart[1],this._touchStart[0]),this._currentFingerRotation=this._startFingerRotation,this.camera.getWorldDirection(this._rotationAxis),this.enablePan||this.enableZoom||this.activateGizmos(!0))};onRotateMove=()=>{if(this.enabled&&this.enableRotate){this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2);let b;this._state!=e.ZROTATE&&(this.updateTbState(e.ZROTATE,!0),this._startFingerRotation=this._currentFingerRotation),this._currentFingerRotation=this.getAngle(this._touchCurrent[1],this._touchCurrent[0])+this.getAngle(this._touchStart[1],this._touchStart[0]),this.enablePan?(this._v3_2.setFromMatrixPosition(this._gizmoMatrixState),b=this.unprojectOnTbPlane(this.camera,g.x,g.y,this.domElement).applyQuaternion(this.camera.quaternion).multiplyScalar(1/this.camera.zoom).add(this._v3_2)):b=new a.Pa4().setFromMatrixPosition(this._gizmoMatrixState);let c=a.M8C.DEG2RAD*(this._startFingerRotation-this._currentFingerRotation);this.applyTransformMatrix(this.zRotate(b,c)),this.dispatchEvent(i)}};onRotateEnd=()=>{this.updateTbState(e.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(k)};onPinchStart=()=>{this.enabled&&this.enableZoom&&(this.dispatchEvent(j),this.updateTbState(e.SCALE,!0),this._startFingerDistance=this.calculatePointersDistance(this._touchCurrent[0],this._touchCurrent[1]),this._currentFingerDistance=this._startFingerDistance,this.activateGizmos(!1))};onPinchMove=()=>{if(this.enabled&&this.enableZoom){this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2);let b=12;this._state!=e.SCALE&&(this._startFingerDistance=this._currentFingerDistance,this.updateTbState(e.SCALE,!0)),this._currentFingerDistance=Math.max(this.calculatePointersDistance(this._touchCurrent[0],this._touchCurrent[1]),b*this._devPxRatio);let c=this._currentFingerDistance/this._startFingerDistance,a;this.enablePan?this.camera.isOrthographicCamera?a=this.unprojectOnTbPlane(this.camera,g.x,g.y,this.domElement).applyQuaternion(this.camera.quaternion).multiplyScalar(1/this.camera.zoom).add(this._gizmos.position):this.camera.isPerspectiveCamera&&(a=this.unprojectOnTbPlane(this.camera,g.x,g.y,this.domElement).applyQuaternion(this.camera.quaternion).add(this._gizmos.position)):a=this._gizmos.position,this.applyTransformMatrix(this.scale(c,a)),this.dispatchEvent(i)}};onPinchEnd=()=>{this.updateTbState(e.IDLE,!1),this.dispatchEvent(k)};onTriplePanStart=()=>{if(this.enabled&&this.enableZoom){this.dispatchEvent(j),this.updateTbState(e.SCALE,!0);let c=0,d=0,b=this._touchCurrent.length;for(let a=0;a<b;a++)c+=this._touchCurrent[a].clientX,d+=this._touchCurrent[a].clientY;this.setCenter(c/b,d/b),this._startCursorPosition.setY(.5*this.getCursorNDC(g.x,g.y,this.domElement).y),this._currentCursorPosition.copy(this._startCursorPosition)}};onTriplePanMove=()=>{if(this.enabled&&this.enableZoom){let k=0,l=0,h=this._touchCurrent.length;for(let c=0;c<h;c++)k+=this._touchCurrent[c].clientX,l+=this._touchCurrent[c].clientY;this.setCenter(k/h,l/h);let n=8;this._currentCursorPosition.setY(.5*this.getCursorNDC(g.x,g.y,this.domElement).y);let d=this._currentCursorPosition.y-this._startCursorPosition.y,b=1;d<0?b=1/Math.pow(this.scaleFactor,-d*n):d>0&&(b=Math.pow(this.scaleFactor,d*n)),this._v3_1.setFromMatrixPosition(this._cameraMatrixState);let e=this._v3_1.distanceTo(this._gizmos.position),j=e/b;j=a.M8C.clamp(j,this.minDistance,this.maxDistance);let o=e*Math.tan(a.M8C.DEG2RAD*this._fovState*.5),f=a.M8C.RAD2DEG*(2*Math.atan(o/j));f=a.M8C.clamp(f,this.minFov,this.maxFov);let p=o/Math.tan(a.M8C.DEG2RAD*(f/2));b=e/p,this._v3_2.setFromMatrixPosition(this._gizmoMatrixState),this.setFov(f),this.applyTransformMatrix(this.scale(b,this._v3_2,!1)),m.copy(this._gizmos.position).sub(this.camera.position).normalize().multiplyScalar(p/e),this._m4_1.makeTranslation(m.x,m.y,m.z),this.dispatchEvent(i)}};onTriplePanEnd=()=>{this.updateTbState(e.IDLE,!1),this.dispatchEvent(k)};setCenter=(a,b)=>{g.x=a,g.y=b};initializeMouseActions=()=>{this.setMouseAction("PAN",0,"CTRL"),this.setMouseAction("PAN",2),this.setMouseAction("ROTATE",0),this.setMouseAction("ZOOM","WHEEL"),this.setMouseAction("ZOOM",1),this.setMouseAction("FOV","WHEEL","SHIFT"),this.setMouseAction("FOV",1,"SHIFT")};compareMouseAction=(a,b)=>a.operation==b.operation&&a.mouse==b.mouse&&a.key==b.key;setMouseAction=(a,f,g=null)=>{let b;if(!["PAN","ROTATE","ZOOM","FOV"].includes(a)||![0,1,2,"WHEEL"].includes(f)||!["CTRL","SHIFT",null].includes(g)||"WHEEL"==f&&"ZOOM"!=a&&"FOV"!=a)return!1;switch(a){case"PAN":b=e.PAN;break;case"ROTATE":b=e.ROTATE;break;case"ZOOM":b=e.SCALE;break;case"FOV":b=e.FOV}let d={operation:a,mouse:f,key:g,state:b};for(let c=0;c<this.mouseActions.length;c++)if(this.mouseActions[c].mouse==d.mouse&&this.mouseActions[c].key==d.key)return this.mouseActions.splice(c,1,d),!0;return this.mouseActions.push(d),!0};unsetMouseAction=(b,c=null)=>{for(let a=0;a<this.mouseActions.length;a++)if(this.mouseActions[a].mouse==b&&this.mouseActions[a].key==c)return this.mouseActions.splice(a,1),!0;return!1};getOpFromAction=(d,e)=>{let a;for(let b=0;b<this.mouseActions.length;b++)if((a=this.mouseActions[b]).mouse==d&&a.key==e)return a.operation;if(null!=e){for(let c=0;c<this.mouseActions.length;c++)if((a=this.mouseActions[c]).mouse==d&&null==a.key)return a.operation}return null};getOpStateFromAction=(d,e)=>{let a;for(let b=0;b<this.mouseActions.length;b++)if((a=this.mouseActions[b]).mouse==d&&a.key==e)return a.state;if(null!=e){for(let c=0;c<this.mouseActions.length;c++)if((a=this.mouseActions[c]).mouse==d&&null==a.key)return a.state}return null};getAngle=(a,b)=>180*Math.atan2(b.clientY-a.clientY,b.clientX-a.clientX)/Math.PI;updateTouchEvent=b=>{for(let a=0;a<this._touchCurrent.length;a++)if(this._touchCurrent[a].pointerId==b.pointerId){this._touchCurrent.splice(a,1,b);break}};applyTransformMatrix(c){if(null!=c.camera&&(this._m4_1.copy(this._cameraMatrixState).premultiply(c.camera),this._m4_1.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.updateMatrix(),(this._state==e.ROTATE||this._state==e.ZROTATE||this._state==e.ANIMATION_ROTATE)&&this.camera.up.copy(this._upState).applyQuaternion(this.camera.quaternion)),null!=c.gizmos&&(this._m4_1.copy(this._gizmoMatrixState).premultiply(c.gizmos),this._m4_1.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this._gizmos.updateMatrix()),this._state==e.SCALE||this._state==e.FOCUS||this._state==e.ANIMATION_FOCUS){if(this._tbRadius=this.calculateTbRadius(this.camera),this.adjustNearFar){let d=this.camera.position.distanceTo(this._gizmos.position),g=new a.ZzF;g.setFromObject(this._gizmos);let b=new a.aLr;g.getBoundingSphere(b);let h=Math.max(this._nearPos0,b.radius+b.center.length()),i=d-this._initialNear,j=Math.min(h,i);this.camera.near=d-j;let k=Math.min(this._farPos0,-b.radius+b.center.length()),l=d-this._initialFar,m=Math.min(k,l);this.camera.far=d-m,this.camera.updateProjectionMatrix()}else{let f=!1;this.camera.near!=this._initialNear&&(this.camera.near=this._initialNear,f=!0),this.camera.far!=this._initialFar&&(this.camera.far=this._initialFar,f=!0),f&&this.camera.updateProjectionMatrix()}}}calculateAngularSpeed=(b,c,d,e)=>{let a=(e-d)/1e3;return 0==a?0:(c-b)/a};calculatePointersDistance=(a,b)=>Math.sqrt(Math.pow(b.clientX-a.clientX,2)+Math.pow(b.clientY-a.clientY,2));calculateRotationAxis=(a,b)=>(this._rotationMatrix.extractRotation(this._cameraMatrixState),this._quat.setFromRotationMatrix(this._rotationMatrix),this._rotationAxis.crossVectors(a,b).applyQuaternion(this._quat),this._rotationAxis.normalize().clone());calculateTbRadius=b=>{let d=b.position.distanceTo(this._gizmos.position);if("PerspectiveCamera"==b.type){let c=a.M8C.DEG2RAD*b.fov*.5,e=Math.atan(b.aspect*Math.tan(c));return Math.tan(Math.min(c,e))*d*this.radiusFactor}if("OrthographicCamera"==b.type)return Math.min(b.top,b.right)*this.radiusFactor};focus=(a,b,c=1)=>{m.copy(a).sub(this._gizmos.position).multiplyScalar(c),this._translationMatrix.makeTranslation(m.x,m.y,m.z),n.copy(this._gizmoMatrixState),this._gizmoMatrixState.premultiply(this._translationMatrix),this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),o.copy(this._cameraMatrixState),this._cameraMatrixState.premultiply(this._translationMatrix),this._cameraMatrixState.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.enableZoom&&this.applyTransformMatrix(this.scale(b,this._gizmos.position)),this._gizmoMatrixState.copy(n),this._cameraMatrixState.copy(o)};drawGrid=()=>{if(null!=this.scene){let f=8947848,g=3,b,e,c,d;if(this.camera.isOrthographicCamera){let i=this.camera.right-this.camera.left,j=this.camera.bottom-this.camera.top;d=(c=Math.max(i,j))/20,b=c/this.camera.zoom*g,e=b/d*this.camera.zoom}else if(this.camera.isPerspectiveCamera){let k=this.camera.position.distanceTo(this._gizmos.position),h=a.M8C.DEG2RAD*this.camera.fov*.5,l=Math.atan(this.camera.aspect*Math.tan(h));d=(c=Math.tan(Math.max(h,l))*k*2)/20,b=c*g,e=b/d}null==this._grid&&(this._grid=new a.VLJ(b,e,f,f),this._grid.position.copy(this._gizmos.position),this._gridPosition.copy(this._grid.position),this._grid.quaternion.copy(this.camera.quaternion),this._grid.rotateX(.5*Math.PI),this.scene.add(this._grid))}};dispose=()=>{-1!=this._animationId&&window.cancelAnimationFrame(this._animationId),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("pointercancel",this.onPointerCancel),this.domElement.removeEventListener("wheel",this.onWheel),this.domElement.removeEventListener("contextmenu",this.onContextMenu),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("resize",this.onWindowResize),null!==this.scene&&this.scene.remove(this._gizmos),this.disposeGrid()};disposeGrid=()=>{null!=this._grid&&null!=this.scene&&(this.scene.remove(this._grid),this._grid=null)};easeOutCubic=a=>1-Math.pow(1-a,3);activateGizmos=d=>{let a=this._gizmos.children[0],b=this._gizmos.children[1],c=this._gizmos.children[2];d?(a.material.setValues({opacity:1}),b.material.setValues({opacity:1}),c.material.setValues({opacity:1})):(a.material.setValues({opacity:.6}),b.material.setValues({opacity:.6}),c.material.setValues({opacity:.6}))};getCursorNDC=(b,c,d)=>{let a=d.getBoundingClientRect();return this._v2_1.setX((b-a.left)/a.width*2-1),this._v2_1.setY((a.bottom-c)/a.height*2-1),this._v2_1.clone()};getCursorPosition=(a,b,c)=>(this._v2_1.copy(this.getCursorNDC(a,b,c)),this._v2_1.x*=(this.camera.right-this.camera.left)*.5,this._v2_1.y*=(this.camera.top-this.camera.bottom)*.5,this._v2_1.clone());setCamera=a=>{a.lookAt(this.target),a.updateMatrix(),"PerspectiveCamera"==a.type&&(this._fov0=a.fov,this._fovState=a.fov),this._cameraMatrixState0.copy(a.matrix),this._cameraMatrixState.copy(this._cameraMatrixState0),this._cameraProjectionState.copy(a.projectionMatrix),this._zoom0=a.zoom,this._zoomState=this._zoom0,this._initialNear=a.near,this._nearPos0=a.position.distanceTo(this.target)-a.near,this._nearPos=this._initialNear,this._initialFar=a.far,this._farPos0=a.position.distanceTo(this.target)-a.far,this._farPos=this._initialFar,this._up0.copy(a.up),this._upState.copy(a.up),this.camera=a,this.camera.updateProjectionMatrix(),this._tbRadius=this.calculateTbRadius(a),this.makeGizmos(this.target,this._tbRadius)};setGizmosVisible(a){this._gizmos.visible=a,this.dispatchEvent(i)}setTbRadius(b){this.radiusFactor=b,this._tbRadius=this.calculateTbRadius(this.camera);let c=new a.Ny0(0,0,this._tbRadius,this._tbRadius),d=c.getPoints(this._curvePts),e=new a.u9r().setFromPoints(d);for(let f in this._gizmos.children)this._gizmos.children[f].geometry=e;this.dispatchEvent(i)}makeGizmos=(b,e)=>{let i=new a.Ny0(0,0,e,e),j=i.getPoints(this._curvePts),c=new a.u9r().setFromPoints(j),k=new a.nls({color:16744576,fog:!1,transparent:!0,opacity:.6}),l=new a.nls({color:8454016,fog:!1,transparent:!0,opacity:.6}),m=new a.nls({color:8421631,fog:!1,transparent:!0,opacity:.6}),f=new a.x12(c,k),g=new a.x12(c,l),n=new a.x12(c,m),h=.5*Math.PI;if(f.rotation.x=h,g.rotation.y=h,this._gizmoMatrixState0.identity().setPosition(b),this._gizmoMatrixState.copy(this._gizmoMatrixState0),1!==this.camera.zoom){let d=1/this.camera.zoom;this._scaleMatrix.makeScale(d,d,d),this._translationMatrix.makeTranslation(-b.x,-b.y,-b.z),this._gizmoMatrixState.premultiply(this._translationMatrix).premultiply(this._scaleMatrix),this._translationMatrix.makeTranslation(b.x,b.y,b.z),this._gizmoMatrixState.premultiply(this._translationMatrix)}this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this._gizmos.traverse(function(a){a.isLine&&(a.geometry.dispose(),a.material.dispose())}),this._gizmos.clear(),this._gizmos.add(f),this._gizmos.add(g),this._gizmos.add(n)};onFocusAnim=(b,c,j,f)=>{if(-1==this._timeStart&&(this._timeStart=b),this._state==e.ANIMATION_FOCUS){let g=b-this._timeStart,d=g/this.focusAnimationTime;if(this._gizmoMatrixState.copy(f),d>=1)this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this.focus(c,this.scaleFactor),this._timeStart=-1,this.updateTbState(e.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(i);else{let a=this.easeOutCubic(d),h=1-a+this.scaleFactor*a;this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this.focus(c,h,a),this.dispatchEvent(i);let k=this;this._animationId=window.requestAnimationFrame(function(a){k.onFocusAnim(a,c,j,f.clone())})}}else this._animationId=-1,this._timeStart=-1};onRotationAnim=(b,d,c)=>{if(-1==this._timeStart&&(this._anglePrev=0,this._angleCurrent=0,this._timeStart=b),this._state==e.ANIMATION_ROTATE){let a=(b-this._timeStart)/1e3,f=c+ -this.dampingFactor*a;if(f>0){this._angleCurrent=-(.5*this.dampingFactor)*Math.pow(a,2)+c*a+0,this.applyTransformMatrix(this.rotate(d,this._angleCurrent)),this.dispatchEvent(i);let g=this;this._animationId=window.requestAnimationFrame(function(a){g.onRotationAnim(a,d,c)})}else this._animationId=-1,this._timeStart=-1,this.updateTbState(e.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(i)}else this._animationId=-1,this._timeStart=-1,this._state!=e.ROTATE&&(this.activateGizmos(!1),this.dispatchEvent(i))};pan=(b,c,d=!1)=>{let a=b.clone().sub(c);if(this.camera.isOrthographicCamera)a.multiplyScalar(1/this.camera.zoom);else if(this.camera.isPerspectiveCamera&&d){this._v3_1.setFromMatrixPosition(this._cameraMatrixState0),this._v3_2.setFromMatrixPosition(this._gizmoMatrixState0);let e=this._v3_1.distanceTo(this._v3_2)/this.camera.position.distanceTo(this._gizmos.position);a.multiplyScalar(1/e)}return this._v3_1.set(a.x,a.y,0).applyQuaternion(this.camera.quaternion),this._m4_1.makeTranslation(this._v3_1.x,this._v3_1.y,this._v3_1.z),this.setTransformationMatrices(this._m4_1,this._m4_1),h};reset=()=>{this.camera.zoom=this._zoom0,this.camera.isPerspectiveCamera&&(this.camera.fov=this._fov0),this.camera.near=this._nearPos,this.camera.far=this._farPos,this._cameraMatrixState.copy(this._cameraMatrixState0),this._cameraMatrixState.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.up.copy(this._up0),this.camera.updateMatrix(),this.camera.updateProjectionMatrix(),this._gizmoMatrixState.copy(this._gizmoMatrixState0),this._gizmoMatrixState0.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this._gizmos.updateMatrix(),this._tbRadius=this.calculateTbRadius(this.camera),this.makeGizmos(this._gizmos.position,this._tbRadius),this.camera.lookAt(this._gizmos.position),this.updateTbState(e.IDLE,!1),this.dispatchEvent(i)};rotate=(b,c)=>{let a=this._gizmos.position;return this._translationMatrix.makeTranslation(-a.x,-a.y,-a.z),this._rotationMatrix.makeRotationAxis(b,-c),this._m4_1.makeTranslation(a.x,a.y,a.z),this._m4_1.multiply(this._rotationMatrix),this._m4_1.multiply(this._translationMatrix),this.setTransformationMatrices(this._m4_1),h};copyState=()=>{let a;this.camera.isOrthographicCamera?a=JSON.stringify({arcballState:{cameraFar:this.camera.far,cameraMatrix:this.camera.matrix,cameraNear:this.camera.near,cameraUp:this.camera.up,cameraZoom:this.camera.zoom,gizmoMatrix:this._gizmos.matrix}}):this.camera.isPerspectiveCamera&&(a=JSON.stringify({arcballState:{cameraFar:this.camera.far,cameraFov:this.camera.fov,cameraMatrix:this.camera.matrix,cameraNear:this.camera.near,cameraUp:this.camera.up,cameraZoom:this.camera.zoom,gizmoMatrix:this._gizmos.matrix}})),navigator.clipboard.writeText(a)};pasteState=()=>{let a=this;navigator.clipboard.readText().then(function(b){a.setStateFromJSON(b)})};saveState=()=>{this._cameraMatrixState0.copy(this.camera.matrix),this._gizmoMatrixState0.copy(this._gizmos.matrix),this._nearPos=this.camera.near,this._farPos=this.camera.far,this._zoom0=this.camera.zoom,this._up0.copy(this.camera.up),this.camera.isPerspectiveCamera&&(this._fov0=this.camera.fov)};scale=(e,g,i=!0)=>{p.copy(g);let a=1/e;if(this.camera.isOrthographicCamera){this.camera.zoom=this._zoomState,this.camera.zoom*=e,this.camera.zoom>this.maxZoom?(this.camera.zoom=this.maxZoom,a=this._zoomState/this.maxZoom):this.camera.zoom<this.minZoom&&(this.camera.zoom=this.minZoom,a=this._zoomState/this.minZoom),this.camera.updateProjectionMatrix(),this._v3_1.setFromMatrixPosition(this._gizmoMatrixState),this._scaleMatrix.makeScale(a,a,a),this._translationMatrix.makeTranslation(-this._v3_1.x,-this._v3_1.y,-this._v3_1.z),this._m4_2.makeTranslation(this._v3_1.x,this._v3_1.y,this._v3_1.z).multiply(this._scaleMatrix),this._m4_2.multiply(this._translationMatrix),p.sub(this._v3_1);let j=p.clone().multiplyScalar(a);return p.sub(j),this._m4_1.makeTranslation(p.x,p.y,p.z),this._m4_2.premultiply(this._m4_1),this.setTransformationMatrices(this._m4_1,this._m4_2),h}if(this.camera.isPerspectiveCamera){this._v3_1.setFromMatrixPosition(this._cameraMatrixState),this._v3_2.setFromMatrixPosition(this._gizmoMatrixState);let b=this._v3_1.distanceTo(p),d=b-b*a,f=b-d;if(f<this.minDistance?(a=this.minDistance/b,d=b-b*a):f>this.maxDistance&&(a=this.maxDistance/b,d=b-b*a),m.copy(p).sub(this._v3_1).normalize().multiplyScalar(d),this._m4_1.makeTranslation(m.x,m.y,m.z),i){let c=this._v3_2;d=(b=c.distanceTo(p))-b*a,m.copy(p).sub(this._v3_2).normalize().multiplyScalar(d),this._translationMatrix.makeTranslation(c.x,c.y,c.z),this._scaleMatrix.makeScale(a,a,a),this._m4_2.makeTranslation(m.x,m.y,m.z).multiply(this._translationMatrix),this._m4_2.multiply(this._scaleMatrix),this._translationMatrix.makeTranslation(-c.x,-c.y,-c.z),this._m4_2.multiply(this._translationMatrix),this.setTransformationMatrices(this._m4_1,this._m4_2)}else this.setTransformationMatrices(this._m4_1);return h}};setFov=b=>{this.camera.isPerspectiveCamera&&(this.camera.fov=a.M8C.clamp(b,this.minFov,this.maxFov),this.camera.updateProjectionMatrix())};setTransformationMatrices(a=null,b=null){null!=a?null!=h.camera?h.camera.copy(a):h.camera=a.clone():h.camera=null,null!=b?null!=h.gizmos?h.gizmos.copy(b):h.gizmos=b.clone():h.gizmos=null}zRotate=(a,b)=>(this._rotationMatrix.makeRotationAxis(this._rotationAxis,b),this._translationMatrix.makeTranslation(-a.x,-a.y,-a.z),this._m4_1.makeTranslation(a.x,a.y,a.z),this._m4_1.multiply(this._rotationMatrix),this._m4_1.multiply(this._translationMatrix),this._v3_1.setFromMatrixPosition(this._gizmoMatrixState).sub(a),this._v3_2.copy(this._v3_1).applyAxisAngle(this._rotationAxis,b),this._v3_2.sub(this._v3_1),this._m4_2.makeTranslation(this._v3_2.x,this._v3_2.y,this._v3_2.z),this.setTransformationMatrices(this._m4_1,this._m4_2),h);getRaycaster(){return l}unprojectOnObj=(e,d)=>{let b=this.getRaycaster();b.near=d.near,b.far=d.far,b.setFromCamera(e,d);let c=b.intersectObjects(this.scene.children,!0);for(let a=0;a<c.length;a++)if(c[a].object.uuid!=this._gizmos.uuid&&null!=c[a].face)return c[a].point.clone();return null};unprojectOnTbSurface=(g,m,n,o,p)=>{if("OrthographicCamera"==g.type){this._v2_1.copy(this.getCursorPosition(m,n,o)),this._v3_1.set(this._v2_1.x,this._v2_1.y,0);let j=Math.pow(this._v2_1.x,2),k=Math.pow(this._v2_1.y,2),l=Math.pow(this._tbRadius,2);return j+k<=.5*l?this._v3_1.setZ(Math.sqrt(l-(j+k))):this._v3_1.setZ(.5*l/Math.sqrt(j+k)),this._v3_1}if("PerspectiveCamera"==g.type){this._v2_1.copy(this.getCursorNDC(m,n,o)),this._v3_1.set(this._v2_1.x,this._v2_1.y,-1),this._v3_1.applyMatrix4(g.projectionMatrixInverse);let b=this._v3_1.clone().normalize(),c=g.position.distanceTo(this._gizmos.position),q=Math.pow(p,2),t=this._v3_1.z,r=Math.sqrt(Math.pow(this._v3_1.x,2)+Math.pow(this._v3_1.y,2));if(0==r)return b.set(this._v3_1.x,this._v3_1.y,p),b;let d=t/r,e=c,f=Math.pow(d,2)+1,h=2*d*e,s=Math.pow(e,2)-q,i=Math.pow(h,2)-4*f*s;if(i>=0){this._v2_1.setX((-h-Math.sqrt(i))/(2*f)),this._v2_1.setY(d*this._v2_1.x+e);let u=a.M8C.RAD2DEG*this._v2_1.angle();if(u>=45){let v=Math.sqrt(Math.pow(this._v2_1.x,2)+Math.pow(c-this._v2_1.y,2));return b.multiplyScalar(v),b.z+=c,b}}f=d,i=Math.pow(h=e,2)-4*f*(s=-(.5*q)),this._v2_1.setX((-h-Math.sqrt(i))/(2*f)),this._v2_1.setY(d*this._v2_1.x+e);let w=Math.sqrt(Math.pow(this._v2_1.x,2)+Math.pow(c-this._v2_1.y,2));return b.multiplyScalar(w),b.z+=c,b}};unprojectOnTbPlane=(b,c,d,e,i=!1)=>{if("OrthographicCamera"==b.type)return this._v2_1.copy(this.getCursorPosition(c,d,e)),this._v3_1.set(this._v2_1.x,this._v2_1.y,0),this._v3_1.clone();if("PerspectiveCamera"==b.type){this._v2_1.copy(this.getCursorNDC(c,d,e)),this._v3_1.set(this._v2_1.x,this._v2_1.y,-1),this._v3_1.applyMatrix4(b.projectionMatrixInverse);let a=this._v3_1.clone().normalize(),j=this._v3_1.z,f=Math.sqrt(Math.pow(this._v3_1.x,2)+Math.pow(this._v3_1.y,2)),g;if(g=i?this._v3_1.setFromMatrixPosition(this._cameraMatrixState0).distanceTo(this._v3_2.setFromMatrixPosition(this._gizmoMatrixState0)):b.position.distanceTo(this._gizmos.position),0==f)return a.set(0,0,0),a;let k=j/f,h=g,l=-h/k,m=Math.sqrt(Math.pow(h,2)+Math.pow(l,2));return a.multiplyScalar(m),a.z=0,a}};updateMatrixState=()=>{this._cameraMatrixState.copy(this.camera.matrix),this._gizmoMatrixState.copy(this._gizmos.matrix),this.camera.isOrthographicCamera?(this._cameraProjectionState.copy(this.camera.projectionMatrix),this.camera.updateProjectionMatrix(),this._zoomState=this.camera.zoom):this.camera.isPerspectiveCamera&&(this._fovState=this.camera.fov)};updateTbState=(a,b)=>{this._state=a,b&&this.updateMatrixState()};update=()=>{if(!1===this.target.equals(this._currentTarget)&&(this._gizmos.position.copy(this.target),this._tbRadius=this.calculateTbRadius(this.camera),this.makeGizmos(this.target,this._tbRadius),this._currentTarget.copy(this.target)),this.camera.isOrthographicCamera){if(this.camera.zoom>this.maxZoom||this.camera.zoom<this.minZoom){let e=a.M8C.clamp(this.camera.zoom,this.minZoom,this.maxZoom);this.applyTransformMatrix(this.scale(e/this.camera.zoom,this._gizmos.position,!0))}}else if(this.camera.isPerspectiveCamera){let b=this.camera.position.distanceTo(this._gizmos.position);if(b>this.maxDistance+1e-6||b<this.minDistance-1e-6){let f=a.M8C.clamp(b,this.minDistance,this.maxDistance);this.applyTransformMatrix(this.scale(f/b,this._gizmos.position)),this.updateMatrixState()}(this.camera.fov<this.minFov||this.camera.fov>this.maxFov)&&(this.camera.fov=a.M8C.clamp(this.camera.fov,this.minFov,this.maxFov),this.camera.updateProjectionMatrix());let c=this._tbRadius;if(this._tbRadius=this.calculateTbRadius(this.camera),c<this._tbRadius-1e-6||c>this._tbRadius+1e-6){let g=(this._gizmos.scale.x+this._gizmos.scale.y+this._gizmos.scale.z)/3,d=this._tbRadius/g,h=new a.Ny0(0,0,d,d),i=h.getPoints(this._curvePts),j=new a.u9r().setFromPoints(i);for(let k in this._gizmos.children)this._gizmos.children[k].geometry=j}}this.camera.lookAt(this._gizmos.position)};setStateFromJSON=c=>{let b=JSON.parse(c);if(void 0!=b.arcballState){this._cameraMatrixState.fromArray(b.arcballState.cameraMatrix.elements),this._cameraMatrixState.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.up.copy(b.arcballState.cameraUp),this.camera.near=b.arcballState.cameraNear,this.camera.far=b.arcballState.cameraFar,this.camera.zoom=b.arcballState.cameraZoom,this.camera.isPerspectiveCamera&&(this.camera.fov=b.arcballState.cameraFov),this._gizmoMatrixState.fromArray(b.arcballState.gizmoMatrix.elements),this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this.camera.updateMatrix(),this.camera.updateProjectionMatrix(),this._gizmos.updateMatrix(),this._tbRadius=this.calculateTbRadius(this.camera);let d=new a.yGw().copy(this._gizmoMatrixState0);this.makeGizmos(this._gizmos.position,this._tbRadius),this._gizmoMatrixState0.copy(d),this.camera.lookAt(this._gizmos.position),this.updateTbState(e.IDLE,!1),this.dispatchEvent(i)}}}},6023:function(d,b,a){"use strict";a.d(b,{v:function(){return e}});var c=a(9477);class e extends c.aNw{constructor(a){super(a)}load(b,f,d,e){let g=this,h=""===this.path?c.Zp0.extractUrlBase(b):this.path,a=new c.hH6(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(b,function(c){try{f(g.parse(c,h))}catch(a){e?e(a):console.error(a),g.manager.itemError(b)}},d,e)}setMaterialOptions(a){return this.materialOptions=a,this}parse(l,m){let j=l.split("\n"),d={},n=/\s+/,k={};for(let h=0;h<j.length;h++){let b=j[h];if(0===(b=b.trim()).length||"#"===b.charAt(0))continue;let e=b.indexOf(" "),a=e>=0?b.substring(0,e):b;a=a.toLowerCase();let c=e>=0?b.substring(e+1):"";if(c=c.trim(),"newmtl"===a)d={name:c},k[c]=d;else if("ka"===a||"kd"===a||"ks"===a||"ke"===a){let i=c.split(n,3);d[a]=[parseFloat(i[0]),parseFloat(i[1]),parseFloat(i[2])]}else d[a]=c}let g=new f(this.resourcePath||m,this.materialOptions);return g.setCrossOrigin(this.crossOrigin),g.setManager(this.manager),g.setMaterials(k),g}}class f{constructor(a="",b={}){this.baseUrl=a,this.options=b,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=void 0!==this.options.side?this.options.side:c.Wl3,this.wrap=void 0!==this.options.wrap?this.options.wrap:c.rpg}setCrossOrigin(a){return this.crossOrigin=a,this}setManager(a){this.manager=a}setMaterials(a){this.materialsInfo=this.convert(a),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(b){if(!this.options)return b;let c={};for(let d in b){let e=b[d],f={};for(let g in c[d]=f,e){let h=!0,a=e[g],i=g.toLowerCase();switch(i){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(a=[a[0]/255,a[1]/255,a[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===a[0]&&0===a[1]&&0===a[2]&&(h=!1)}h&&(f[i]=a)}}return c}preload(){for(let a in this.materialsInfo)this.create(a)}getIndex(a){return this.nameLookup[a]}getAsArray(){let a=0;for(let b in this.materialsInfo)this.materialsArray[a]=this.create(b),this.nameLookup[b]=a,a++;return this.materialsArray}create(a){return void 0===this.materials[a]&&this.createMaterial_(a),this.materials[a]}createMaterial_(f){let i=this,g=this.materialsInfo[f],b={name:f,side:this.side};function e(e,h){var g,d;if(b[e])return;let f=i.getTextureParams(h,b),a=i.loadTexture((g=i.baseUrl,"string"!=typeof(d=f.url)||""===d?"":/^https?:\/\//i.test(d)?d:g+d));a.repeat.copy(f.scale),a.offset.copy(f.offset),a.wrapS=i.wrap,a.wrapT=i.wrap,("map"===e||"emissiveMap"===e)&&(a.encoding=c.knz),b[e]=a}for(let h in g){let a=g[h],d;if(""!==a)switch(h.toLowerCase()){case"kd":b.color=new c.Ilk().fromArray(a).convertSRGBToLinear();break;case"ks":b.specular=new c.Ilk().fromArray(a).convertSRGBToLinear();break;case"ke":b.emissive=new c.Ilk().fromArray(a).convertSRGBToLinear();break;case"map_kd":e("map",a);break;case"map_ks":e("specularMap",a);break;case"map_ke":e("emissiveMap",a);break;case"norm":e("normalMap",a);break;case"map_bump":case"bump":e("bumpMap",a);break;case"map_d":e("alphaMap",a),b.transparent=!0;break;case"ns":b.shininess=parseFloat(a);break;case"d":(d=parseFloat(a))<1&&(b.opacity=d,b.transparent=!0);break;case"tr":d=parseFloat(a),this.options&&this.options.invertTrProperty&&(d=1-d),d>0&&(b.opacity=1-d,b.transparent=!0)}}return this.materials[f]=new c.xoR(b),this.materials[f]}getTextureParams(e,f){let d={scale:new c.FM8(1,1),offset:new c.FM8(0,0)},a=e.split(/\s+/),b;return(b=a.indexOf("-bm"))>=0&&(f.bumpScale=parseFloat(a[b+1]),a.splice(b,2)),(b=a.indexOf("-s"))>=0&&(d.scale.set(parseFloat(a[b+1]),parseFloat(a[b+2])),a.splice(b,4)),(b=a.indexOf("-o"))>=0&&(d.offset.set(parseFloat(a[b+1]),parseFloat(a[b+2])),a.splice(b,4)),d.url=a.join(" ").trim(),d}loadTexture(b,d,g,h,i){let e=void 0!==this.manager?this.manager:c.tEQ,a=e.getHandler(b);null===a&&(a=new c.dpR(e)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin);let f=a.load(b,g,h,i);return void 0!==d&&(f.mapping=d),f}}},7011:function(d,c,b){"use strict";b.d(c,{L:function(){return q}});var a=b(9477);let e=/^[og]\s*(.+)?/,f=/^mtllib /,g=/^usemtl /,h=/^usemap /,i=/\s+/,j=new a.Pa4,k=new a.Pa4,l=new a.Pa4,m=new a.Pa4,n=new a.Pa4,o=new a.Ilk;function p(){let a={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(b,c){if(this.object&& !1===this.object.fromDeclaration){this.object.name=b,this.object.fromDeclaration=!1!==c;return}let a=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:b||"",fromDeclaration:!1!==c,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(d,b){let a=this._finalize(!1);a&&(a.inherited||a.groupCount<=0)&&this.materials.splice(a.index,1);let c={index:this.materials.length,name:d||"",mtllib:Array.isArray(b)&&b.length>0?b[b.length-1]:"",smooth:void 0!==a?a.smooth:this.smooth,groupStart:void 0!==a?a.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(b){let a={index:"number"==typeof b?b:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return a.clone=this.clone.bind(a),a}};return this.materials.push(c),c},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(c){let a=this.currentMaterial();if(a&& -1===a.groupEnd&&(a.groupEnd=this.geometry.vertices.length/3,a.groupCount=a.groupEnd-a.groupStart,a.inherited=!1),c&&this.materials.length>1)for(let b=this.materials.length-1;b>=0;b--)this.materials[b].groupCount<=0&&this.materials.splice(b,1);return c&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),a}},a&&a.name&&"function"==typeof a.clone){let d=a.clone(0);d.inherited=!0,this.object.materials.push(d)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(b,c){let a=parseInt(b,10);return(a>=0?a-1:a+c/3)*3},parseNormalIndex:function(b,c){let a=parseInt(b,10);return(a>=0?a-1:a+c/3)*3},parseUVIndex:function(b,c){let a=parseInt(b,10);return(a>=0?a-1:a+c/2)*2},addVertex:function(b,c,d){let a=this.vertices,e=this.object.geometry.vertices;e.push(a[b+0],a[b+1],a[b+2]),e.push(a[c+0],a[c+1],a[c+2]),e.push(a[d+0],a[d+1],a[d+2])},addVertexPoint:function(a){let b=this.vertices,c=this.object.geometry.vertices;c.push(b[a+0],b[a+1],b[a+2])},addVertexLine:function(a){let b=this.vertices,c=this.object.geometry.vertices;c.push(b[a+0],b[a+1],b[a+2])},addNormal:function(b,c,d){let a=this.normals,e=this.object.geometry.normals;e.push(a[b+0],a[b+1],a[b+2]),e.push(a[c+0],a[c+1],a[c+2]),e.push(a[d+0],a[d+1],a[d+2])},addFaceNormal:function(c,d,e){let a=this.vertices,b=this.object.geometry.normals;j.fromArray(a,c),k.fromArray(a,d),l.fromArray(a,e),n.subVectors(l,k),m.subVectors(j,k),n.cross(m),n.normalize(),b.push(n.x,n.y,n.z),b.push(n.x,n.y,n.z),b.push(n.x,n.y,n.z)},addColor:function(b,c,d){let a=this.colors,e=this.object.geometry.colors;void 0!==a[b]&&e.push(a[b+0],a[b+1],a[b+2]),void 0!==a[c]&&e.push(a[c+0],a[c+1],a[c+2]),void 0!==a[d]&&e.push(a[d+0],a[d+1],a[d+2])},addUV:function(c,d,e){let a=this.uvs,b=this.object.geometry.uvs;b.push(a[c+0],a[c+1]),b.push(a[d+0],a[d+1]),b.push(a[e+0],a[e+1])},addDefaultUV:function(){let a=this.object.geometry.uvs;a.push(0,0),a.push(0,0),a.push(0,0)},addUVLine:function(a){let b=this.uvs,c=this.object.geometry.uvs;c.push(b[a+0],b[a+1])},addFace:function(i,j,k,d,l,m,e,n,o){let f=this.vertices.length,a=this.parseVertexIndex(i,f),b=this.parseVertexIndex(j,f),c=this.parseVertexIndex(k,f);if(this.addVertex(a,b,c),this.addColor(a,b,c),void 0!==e&&""!==e){let g=this.normals.length;a=this.parseNormalIndex(e,g),b=this.parseNormalIndex(n,g),c=this.parseNormalIndex(o,g),this.addNormal(a,b,c)}else this.addFaceNormal(a,b,c);if(void 0!==d&&""!==d){let h=this.uvs.length;a=this.parseUVIndex(d,h),b=this.parseUVIndex(l,h),c=this.parseUVIndex(m,h),this.addUV(a,b,c),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(b){this.object.geometry.type="Points";let d=this.vertices.length;for(let a=0,e=b.length;a<e;a++){let c=this.parseVertexIndex(b[a],d);this.addVertexPoint(c),this.addColor(c)}},addLineGeometry:function(c,d){this.object.geometry.type="Line";let e=this.vertices.length,f=this.uvs.length;for(let a=0,g=c.length;a<g;a++)this.addVertexLine(this.parseVertexIndex(c[a],e));for(let b=0,h=d.length;b<h;b++)this.addUVLine(this.parseUVIndex(d[b],f))}};return a.startObject("",!1),a}class q extends a.aNw{constructor(a){super(a),this.materials=null}load(c,f,d,e){let g=this,b=new a.hH6(this.manager);b.setPath(this.path),b.setRequestHeader(this.requestHeader),b.setWithCredentials(this.withCredentials),b.load(c,function(b){try{f(g.parse(b))}catch(a){e?e(a):console.error(a),g.manager.itemError(c)}},d,e)}setMaterials(a){return this.materials=a,this}parse(n){let b=new p;-1!==n.indexOf("\r\n")&&(n=n.replace(/\r\n/g,"\n")),-1!==n.indexOf("\\\n")&&(n=n.replace(/\\\n/g,""));let R=n.split("\n"),t=[];for(let D=0,$=R.length;D<$;D++){let d=R[D].trimStart();if(0===d.length)continue;let q=d.charAt(0);if("#"!==q){if("v"===q){let j=d.split(i);switch(j[0]){case"v":b.vertices.push(parseFloat(j[1]),parseFloat(j[2]),parseFloat(j[3])),j.length>=7?(o.setRGB(parseFloat(j[4]),parseFloat(j[5]),parseFloat(j[6])).convertSRGBToLinear(),b.colors.push(o.r,o.g,o.b)):b.colors.push(void 0,void 0,void 0);break;case"vn":b.normals.push(parseFloat(j[1]),parseFloat(j[2]),parseFloat(j[3]));break;case"vt":b.uvs.push(parseFloat(j[1]),parseFloat(j[2]))}}else if("f"===q){let _=d.slice(1).trim(),S=_.split(i),r=[];for(let E=0,aa=S.length;E<aa;E++){let T=S[E];if(T.length>0){let ab=T.split("/");r.push(ab)}}let F=r[0];for(let u=1,ac=r.length-1;u<ac;u++){let G=r[u],H=r[u+1];b.addFace(F[0],G[0],H[0],F[1],G[1],H[1],F[2],G[2],H[2])}}else if("l"===q){let I=d.substring(1).trim().split(" "),J=[],U=[];if(-1===d.indexOf("/"))J=I;else for(let K=0,ad=I.length;K<ad;K++){let v=I[K].split("/");""!==v[0]&&J.push(v[0]),""!==v[1]&&U.push(v[1])}b.addLineGeometry(J,U)}else if("p"===q){let ae=d.slice(1).trim(),af=ae.split(" ");b.addPointGeometry(af)}else if(null!==(t=e.exec(d))){let ag=(" "+t[0].slice(1).trim()).slice(1);b.startObject(ag)}else if(g.test(d))b.object.startMaterial(d.substring(7).trim(),b.materialLibraries);else if(f.test(d))b.materialLibraries.push(d.substring(7).trim());else if(h.test(d))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===q){if((t=d.split(" ")).length>1){let V=t[1].trim().toLowerCase();b.object.smooth="0"!==V&&"off"!==V}else b.object.smooth=!0;let W=b.object.currentMaterial();W&&(W.smooth=b.object.smooth)}else{if("\0"===d)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+d+'"')}}}b.finalize();let w=new a.ZAu;w.materialLibraries=[].concat(b.materialLibraries);let ah=!(1===b.objects.length&&0===b.objects[0].geometry.vertices.length);if(!0===ah)for(let L=0,ai=b.objects.length;L<ai;L++){let M=b.objects[L],l=M.geometry,x=M.materials,y="Line"===l.type,z="Points"===l.type,N=!1;if(0===l.vertices.length)continue;let k=new a.u9r;k.setAttribute("position",new a.a$l(l.vertices,3)),l.normals.length>0&&k.setAttribute("normal",new a.a$l(l.normals,3)),l.colors.length>0&&(N=!0,k.setAttribute("color",new a.a$l(l.colors,3))),!0===l.hasUVIndices&&k.setAttribute("uv",new a.a$l(l.uvs,2));let m=[];for(let O=0,aj=x.length;O<aj;O++){let s=x[O],X=s.name+"_"+s.smooth+"_"+N,c=b.materials[X];if(null!==this.materials){if(c=this.materials.create(s.name),!y||!c||c instanceof a.nls){if(z&&c&&!(c instanceof a.UY4)){let A=new a.UY4({size:10,sizeAttenuation:!1});a.F5T.prototype.copy.call(A,c),A.color.copy(c.color),A.map=c.map,c=A}}else{let P=new a.nls;a.F5T.prototype.copy.call(P,c),P.color.copy(c.color),c=P}}void 0===c&&((c=y?new a.nls:z?new a.UY4({size:1,sizeAttenuation:!1}):new a.xoR).name=s.name,c.flatShading=!s.smooth,c.vertexColors=N,b.materials[X]=c),m.push(c)}let B;if(m.length>1){for(let C=0,ak=x.length;C<ak;C++){let Y=x[C];k.addGroup(Y.groupStart,Y.groupCount,C)}B=y?new a.ejS(k,m):z?new a.woe(k,m):new a.Kj0(k,m)}else B=y?new a.ejS(k,m[0]):z?new a.woe(k,m[0]):new a.Kj0(k,m[0]);B.name=M.name,w.add(B)}else if(b.vertices.length>0){let Z=new a.UY4({size:1,sizeAttenuation:!1}),Q=new a.u9r;Q.setAttribute("position",new a.a$l(b.vertices,3)),b.colors.length>0&& void 0!==b.colors[0]&&(Q.setAttribute("color",new a.a$l(b.colors,3)),Z.vertexColors=!0);let al=new a.woe(Q,Z);w.add(al)}return w}}}}])